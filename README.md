# 北大排球小程序的前端



## 运行前端流程

#### 准备工作

【本地运行方法】

后端下载与运行：在 https://github.com/NewBuguTeam/PKUVolleyball-backend 网页中下载后端代码，并按照对应的Readme安装好数据库和配置好环境，使得后端可以运行在 127.0.0.1/5000 下，需要修改`app.js`中的`globalData`中的`rootUrl`为注释掉的本地端口

【部署到服务器上的使用方法】

你不需要做什么，只需要保证服务器畅通就可以了



前端打开工具：微信开发者工具，可在下面网址打开，下载稳定版

https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

本目录下的

`./PKUVolleyball` 中是前端代码，git clone 到本地后，切换到noEncrypted的话就不需要在utils中添加Key.js，用微信开发者工具打开对应的文件夹即可。

需要下载微信开发者工具打开对应的目录，就开始运行了。



## 实现的功能

目标是打造一款校园内可以供使用的排球比赛管理小程序



### 游客

无需登录，拥有围观分组和比赛的功能

#### 查看赛程页面

可以查看最近比赛完 & 将要比赛的赛程，上拉下拉可以更新更早/更新的赛程

点击单个比赛可以看到比赛更具体的信息，如每局比分

#### 查看分组界面

可以查看联赛组和女子组的分组情况



### 裁判

裁判拥有游客的所有功能，同时具有报名执裁和现场判分的功能

#### 登录

裁判需要使用数据库内的内置账号

输入用户名密码登录

#### 查看赛程界面

在裁判的查看赛程界面中，对于所有未开始的比赛都可以请求执裁。可以选择 主裁 / 副裁，主裁靠左，副裁靠右

其中会根据其所在院系的分组对所有回避的比赛不提供请求接口。

#### 我的信息

登录之后会跳转到我的信息界面

在我的信息界面中，会显示这个赛季中执裁过的比赛总场数，并且通过日历显示出最近要进行的比赛。

当今天有需要执裁的比赛时，可以在这个页面中看到，并且可以点击任意一场开始判分。

#### 判分界面

在判分界面，裁判可以对场上的局面根据情况做出记录，暂停和下一场键自带一个倒计时功能，可以帮助计时。

每局结束后，都会有确认键，确认后不能修改上一局的信息，但是可以查看具体的赛况。

每场结束后，会需要提交上传到服务器，提交过后，本地缓存会被清空，同时可以在查看赛程部分看到自己执裁过比赛的比分。



### 管理员

管理员具有游客的所有功能，同时具有管理账号和比赛的功能



#### 登录

管理员需要通过一个数据库里内置的管理员账号登录。

#### 我的信息

管理员的我的信息界面中提供了新建用户的功能。

可以通过这个功能新建一个裁判/管理员的账号

#### 上传分组（后端功能暂未实现）

在管理员的查看分组页面，可以上传.csv文件来导入分组情况

#### 添加比赛

在编辑比赛页面，可以点击添加比赛来添加比赛

只能添加组内的比赛，可以设定相关的比赛时间地点信息。



## 联系方式

Email : 1700012899@pku.edu.cn

如果遇到什么问题，欢迎反馈提问